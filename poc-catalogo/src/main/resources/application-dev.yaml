spring:
  application:
    name: poc-catalogo # nome da aplicação (usado em logs, discovery, etc.)
  jackson:
    mapper:
      sort-properties-alphabetically: false # mantém a ordem de propriedades como definidas nas classes Java

  # Observações:
  # - Para persistir em disco, troque a URL por: jdbc:h2:file:./data/pocdb;DB_CLOSE_ON_EXIT=FALSE
  # - Acesse o console em: http://localhost:8080/h2-console  (JDBC URL: jdbc:h2:mem:pocdb, user: sa)
  datasource:
    url: jdbc:h2:mem:pocdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE # H2 em memória; DB permanece até JVM encerrar
    driver-class-name: org.h2.Driver # driver JDBC para H2
    username: sa # usuário padrão do H2
    password: "" # senha vazia
    hikari:
      maximum-pool-size: 10 # número máximo de conexões no pool HikariCP
      connection-timeout: 30000 # tempo máximo (ms) para obter conexão do pool

  sql:
    init:
      mode: always

  h2:
    console:
      enabled: true # habilita o console web do H2
      path: /h2-console # caminho HTTP do console

  jpa:
    defer-datasource-initialization: true
    database-platform: org.hibernate.dialect.H2Dialect # dialeto Hibernate para H2
    hibernate:
      ddl-auto: create-drop # estratégia de schema (ex: none, validate, update, create, create-drop)
    show-sql: true # imprime SQL gerado pelo Hibernate
    properties:
      hibernate:
        format_sql: true # formata o SQL impresso para melhor leitura

# yaml
# Adicione em `src/main/resources/application-dev.yaml` (profile dev)


